<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>토끼의 하늘계단 수학모험</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <main class="app" aria-label="토끼의 하늘계단 수학모험">
    <header class="topbar">
      <div class="brand">
        <span class="logo" aria-hidden="true">🐰</span>
        <div class="brand-text">
          <div class="title">토끼의 하늘계단 수학모험</div>
          <div class="subtitle">선생님 괴물 20마리를 이기고 하늘로 올라가요!</div>
        </div>
      </div>

      <div class="hud">
        <div class="chip"><span class="label">단계</span> <span id="hudStage">0</span>/20</div>
        <div class="chip"><span class="label">정답</span> <span id="hudCorrect">0</span></div>
        <div class="chip time"><span class="label">시간</span> <span id="hudTime">-</span>s</div>
      </div>
    </header>

    <!-- 배경: 숲/하늘/거대나무/나선계단 (CSS로 그림) -->
    <section class="scene" aria-label="게임 배경">
      <div class="sky"></div>
      <div class="clouds" aria-hidden="true">
        <div class="cloud c1"></div>
        <div class="cloud c2"></div>
        <div class="cloud c3"></div>
      </div>

      <div class="forest" aria-hidden="true">
        <div class="trees"></div>
        <div class="mist"></div>
      </div>

      <div class="giant-tree" aria-hidden="true">
        <div class="trunk"></div>
        <div class="crown"></div>
        <div class="stairs">
          <div class="stair s1"></div>
          <div class="stair s2"></div>
          <div class="stair s3"></div>
          <div class="stair s4"></div>
          <div class="stair s5"></div>
          <div class="stair s6"></div>
          <div class="stair s7"></div>
          <div class="stair s8"></div>
          <div class="stair s9"></div>
        </div>
      </div>

      <!-- 토끼 -->
      <div class="bunny" id="bunny" aria-label="토끼 캐릭터" role="img">
        <div class="ear left"></div>
        <div class="ear right"></div>
        <div class="head"></div>
        <div class="face">
          <div class="eye left"></div>
          <div class="eye right"></div>
          <div class="nose"></div>
          <div class="mouth"></div>
          <div class="cheek left"></div>
          <div class="cheek right"></div>
        </div>
        <div class="body"></div>
        <div class="paw left"></div>
        <div class="paw right"></div>
        <div class="foot left"></div>
        <div class="foot right"></div>
      </div>

      <!-- 시작 버튼 -->
      <div class="start-panel" id="startPanel">
        <div class="card">
          <div class="card-title">게임 시작!</div>
          <div class="card-text">
            🧙‍♂️ 선생님 괴물이 문제를 냅니다.<br />
            ⏱️ 제한시간 20초 안에 정답을 제출하세요!<br />
            ❌ 오답/시간초과면 토끼가 마법으로 사라져요…
          </div>
          <button class="btn primary" id="btnStart">시작하기</button>
        </div>
      </div>

      <!-- 문제 모달 -->
      <div class="modal hidden" id="questionModal" role="dialog" aria-modal="true" aria-label="문제 풀기">
        <div class="modal-card">
          <div class="monster-row">
            <div class="monster" id="monsterFace" aria-hidden="true">
              <div class="horn h1"></div><div class="horn h2"></div>
              <div class="m-eye e1"></div><div class="m-eye e2"></div>
              <div class="m-mouth"></div>
              <div class="m-bowtie"></div>
            </div>
            <div class="monster-text">
              <div class="monster-name" id="monsterName">선생님 괴물</div>
              <div class="monster-say" id="monsterSay">자, 문제를 풀어보렴!</div>
            </div>
          </div>

          <div class="qbox">
            <div class="qstage">
              <span class="badge" id="qStageBadge">1/20</span>
              <span class="badge warn">⏱️ <span id="qTimeLeft">20</span>s</span>
            </div>
            <div class="question" id="questionText">1 + 1 = ?</div>

            <form id="answerForm" class="answer" autocomplete="off">
              <input
                id="answerInput"
                type="number"
                inputmode="numeric"
                pattern="[0-9]*"
                placeholder="정답을 입력"
                aria-label="정답 입력"
                required
              />
              <button class="btn primary" type="submit">제출하기</button>
            </form>

            <div class="hint" id="hintText">힌트: 천천히 생각해도 괜찮아요 🙂</div>
          </div>
        </div>
      </div>

      <!-- 결과 화면 -->
      <div class="modal hidden" id="resultModal" role="dialog" aria-modal="true" aria-label="결과">
        <div class="modal-card">
          <div class="result-title" id="resultTitle">결과</div>
          <div class="result-stats">
            <div class="stat">
              <div class="stat-label">맞힌 문제</div>
              <div class="stat-value"><span id="resCorrect">0</span> / 20</div>
            </div>
            <div class="stat">
              <div class="stat-label">점수(100점 환산)</div>
              <div class="stat-value"><span id="resScore">0</span> 점</div>
            </div>
            <div class="stat">
              <div class="stat-label">보상</div>
              <div class="stat-value" id="resReward">없음</div>
            </div>
          </div>

          <div class="result-note" id="resultNote"></div>

          <div class="result-actions">
            <button class="btn" id="btnRestart">다시하기</button>
            <button class="btn primary" id="btnCloseResult">닫기</button>
          </div>
        </div>
      </div>

      <!-- 작은 안내 -->
      <footer class="footer">
        <span>📱 스마트폰에서는 가로/세로 모두 가능</span>
        <span>🧡 광고·로그인·개인정보 없음</span>
      </footer>
    </section>
  </main>

  <script src="./script.js"></script>
</body>
</html>
